<html>



<head>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="Oracle DBA, RAC, ASM, DataGuard" />
	<meta name="description" content="Администрирование и разработка баз данных Oracle" />

	<title>Oracle DBA</title>

	<link rel="stylesheet" href="http://prev.oracle-dba.ru/hb.css" type="text/css">
	<link rel="stylesheet" href="http://prev.oracle-dba.ru/html.css" type="text/css">



	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/app.css">



	<style type="text/css">
		.text {

			padding-left: 100px;
			padding-right: 100px;

		}

		.link {

			padding-left: 100px;
			padding-right: 100px;

		}
	</style>


	<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = 'oracle-dba'; // required: replace example with your forum shortname

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function () {
			var s = document.createElement('script'); s.async = true;
			s.type = 'text/javascript';
			s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
			(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
		}());
	</script>



	<style type="text/css">
		.spoiler_body {
			display: none;
			cursor: pointer;
		}
	</style>


</head>


<body>




	<br /><br />

	<div class="link">
		<table width="100%" border="0">
			<tr>
				<td align="left" width="40%">
					<a href="index.html"><img src="remote_oracle_dba.jpeg" border="0" alt="Oracle DBA" /></a>
				</td>


				<td align="center">
					<a href="chat.php.html">Телеграм группа для общения<br />https://t.me/oracledba_net</a>
				</td>

				<td align="right" width="33%">
					<a href="job/remote_oracle_dba_on_project/index.html"><img src="remote-oracle-dba-services.jpg" border="0"
							alt="Remote Oracle DBA Services" height="" width="300px" /></a>
				</td>

			</tr>
		</table>

		<br />
		<br />




		<div id="cse" style="width: 100%;">Loading</div>
		<script src="http://www.google.ru/jsapi" type="text/javascript"></script>
		<script type="text/javascript">
			google.load('search', '1', { language: 'ru', style: google.loader.themes.V2_DEFAULT });
			google.setOnLoadCallback(function () {
				var customSearchOptions = {}; var customSearchControl = new google.search.CustomSearchControl(
					'006168197569183510807:fzridi5qcxw', customSearchOptions);
				customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
				customSearchControl.draw('cse');
			}, true);
		</script>


		<div align="center" style="color:red">
			Работа над этой версией сайта остановлена. Рекомендуется обратиться к новой версии сайта <a
				href="http://oracle-dba.ru">oracle-dba.ru</a> на котором в дальшейшем будут исправляться все ошибки и
			неточности.
		</div>

		<br />

		<div align="center">
			<a href="sitemap.php.html">Карта сайта</a>
		</div>



		<br /><br /><br />
		<h2>Собрать статистику пользовательской сессии:</h2>
		<br /><br />
		Т.е. получить максимально полный отчет по тому, какие действия проводились пользователем и каким образом на эти
		действия реагировала база.
		<br /><br />

		-- Показать текущие сессии

		<br /><br />
		<pre class="brush: sql;">

select t.SID, t.SERIAL#, t.osuser as "User", t.MACHINE as "Computer", t.PROGRAM as "Program"
from v$session t
--where (NLS_LOWER(t.PROGRAM) = 'myprogram.exe') -- посмотреть сессии от программы myprogram.exe
--where status='ACTIVE' and osuser!='SYSTEM' -- посмотреть пользовательские сессии
order by 4 asc;

</pre>

		<br /><br />

		-- Включить трассировку

		<br /><br />

		<pre class="brush: sql;">

begin
dbms_system.set_sql_trace_in_session(sid => 139 , serial# => 40063, sql_trace => true);
end;

</pre>


		<br /><br />

		-- Выключить трассировку

		<br /><br />

		<pre class="brush: sql;">

begin
dbms_system.set_sql_trace_in_session(sid => 139 , serial# => 40063, sql_trace => false);
end;

</pre>

		<br /><br />

		Преобразовать трассировочный файл в понятный для человека вид.
		<br /><br />

		<pre class="brush: sql;">

CMD> tkprof filename.trc filename.txt 

</pre>
	</div>







	<br /><br />
	<hr>
	<br />

	<div align="center">
		<a href="index.html">
			<h3>Oracle DBA</h3>
		</a>
	</div>

	<div align="center">
		<strong>tags:</strong> <a href="index.html">Oracle Linux</a> ||
		<a href="sitemap.php.html">Oracle DataBase</a> ||
		<a href="sitemap.php.html">Oracle Weblogic</a> ||
		<a href="https://plsql.ru/">SQL & PL/SQL</a> ||
		<a href="https://javadev.ru/">Java</a> ||
		<a href="https://oracle-adf.ru/">Oracle ADF</a>
	</div>


	<div align="center">
		Исходные коды сайта oracle-dba.ru на <a href="https://github.com/matematika-org/prev.oracle-dba.ru">github</a>
	</div>


	<!---------------->
	<!-- Page Info  -->

	<!-- Эта страница была загружена с сайта: -->
	<!-- http://prev.oracle-dba.ru/oracle_database_session_statistics.php -->

	<!----------------------->
	<!-- Google Analinics  -->

	<script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4894954-13']);
		_gaq.push(['_trackPageview']);

		(function () {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

	</script>


	<!-- Google Analinics  -->
	<!----------------------->

	<!-- Дата обращения к странице -->
	<!-- 05/08/2015 -->

	<!--/ Page Info  -->
	<!---------------->





</body>

</html>